#!/usr/bin/env ruby

require 'pry'

require_relative '../config'

require 'game_data'
require 'project_stats'
require 'review_stats'
require 'stats'
require 'stat_reporter'

gd_files = Dir[ File.join(DATA_PATH, 'cycle-*.csv') ]
gd = GameData.import(gd_files)

proj_stat_files = Dir[ File.join(STATS_PATH, 'projects', '*.csv') ]
ps = ProjectStats.import(proj_stat_files)

review_stat_files = Dir[ File.join(STATS_PATH, 'reviews.csv') ]
rs = ReviewStats.import(review_stat_files)

s = Stats.new(ps, rs, gd)
sr = StatReporter.new(s)
binding.pry
