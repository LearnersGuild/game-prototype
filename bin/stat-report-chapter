#!/usr/bin/env ruby

require_relative '../config'

require 'game_data'
require 'stats'
require 'stat_reporter'

if ARGV.empty?
  files = Dir[ File.expand_path('../../data/cycle-*.csv', __FILE__) ]
else
  files = ARGV
end

anonymous = !(ENV['ANON'] && ENV['ANON'].downcase  =~ /no|false/)

s = Stats.new(GameData.import(files))
r = StatReporter.new(s, anonymous)
puts r.full_report
