#!/usr/bin/env ruby

require_relative '../stats.rb'
require_relative '../stat_reporter.rb'

player_id = ARGV.shift

raise "No player id provided" unless player_id

if ARGV.empty?
  files = Dir[ File.expand_path('../../data/cycle-*.csv', __FILE__) ]
else
  files = ARGV
end

anonymous = !(ENV['ANON'] && ENV['ANON'].downcase =~ /no|false/)

s = Stats.new(*files)
r = StatReporter.new(s, anonymous)
puts r.player_report(player_id)
